---
# This is a template file for Kubernetes secrets
# DO NOT commit actual secrets to version control
# Create the actual secrets file and add to .gitignore

apiVersion: v1
kind: Secret
metadata:
  name: job-agent-secrets
  namespace: default
  labels:
    app: job-agent

type: Opaque

# Example structure - all values should be base64 encoded
# To encode: echo -n "value" | base64
# To decode: echo "encoded-value" | base64 -d

stringData:
  # Database credentials
  DATABASE_URL: "postgresql://user:password@postgres:5432/job_agent"
  DATABASE_USER: "job_agent_user"
  DATABASE_PASSWORD: "secure-password-here"
  
  # Redis credentials
  REDIS_URL: "redis://default:password@redis:6379/0"
  REDIS_PASSWORD: "redis-password-here"
  
  # API credentials
  OPENAI_API_KEY: "sk-..."
  GITHUB_TOKEN: "ghp_..."
  LINKEDIN_TOKEN: "..."
  
  # AWS credentials (if using S3)
  AWS_ACCESS_KEY_ID: "AKIAIOSFODNN7EXAMPLE"
  AWS_SECRET_ACCESS_KEY: "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
  AWS_DEFAULT_REGION: "us-east-1"
  S3_BUCKET: "job-agent-bucket"
  
  # Google Cloud credentials
  GCP_PROJECT_ID: "your-project-id"
  GCP_SERVICE_ACCOUNT_JSON: "{\"type\": \"service_account\", ...}"
  
  # JWT secrets
  JWT_SECRET_KEY: "your-jwt-secret-key-here"
  JWT_ALGORITHM: "HS256"
  
  # Email configuration
  SMTP_HOST: "smtp.gmail.com"
  SMTP_PORT: "587"
  SMTP_USER: "your-email@gmail.com"
  SMTP_PASSWORD: "your-app-password"
  SMTP_FROM_EMAIL: "noreply@job-agent.com"
  
  # Slack webhook
  SLACK_WEBHOOK_URL: "https://hooks.slack.com/services/YOUR/WEBHOOK/URL"
  
  # Notification settings
  NOTIFICATION_EMAIL: "admin@example.com"
  NOTIFICATION_SLACK_CHANNEL: "#alerts"
  
  # Third-party integrations
  SENTRY_DSN: "https://key@sentry.io/project-id"
  DATADOG_API_KEY: "dd-api-key-here"
  
  # SSL/TLS certificates (base64 encoded)
  TLS_CERT: "-----BEGIN CERTIFICATE-----\n...\n-----END CERTIFICATE-----"
  TLS_KEY: "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
  
  # Generic secret key for encryption
  SECRET_KEY: "your-secret-key-for-encryption-here"

---
# Alternative: Using secretKeyRef from external files
# This approach is more secure as secrets are not in YAML

# To create secrets from files:
# kubectl create secret generic job-agent-secrets \
#   --from-file=database-url=./database-url.txt \
#   --from-file=jwt-secret=./jwt-secret.txt \
#   -n default

# To create secrets from literals:
# kubectl create secret generic job-agent-secrets \
#   --from-literal=database-url="postgresql://..." \
#   --from-literal=jwt-secret="secret-key-here" \
#   -n default

---
# TLS Secret for HTTPS
apiVersion: v1
kind: Secret
metadata:
  name: job-agent-tls
  namespace: default
  labels:
    app: job-agent

type: kubernetes.io/tls

# To create from certificate files:
# kubectl create secret tls job-agent-tls \
#   --cert=./cert.pem \
#   --key=./key.pem \
#   -n default

data:
  tls.crt: |
    LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUR...
  tls.key: |
    LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUU...

---
# Docker Registry Secret (if using private registry)
apiVersion: v1
kind: Secret
metadata:
  name: job-agent-registry
  namespace: default
  labels:
    app: job-agent

type: kubernetes.io/dockercfg

# To create from Docker config:
# kubectl create secret generic job-agent-registry \
#   --from-file=.dockercfg=~/.docker/config.json \
#   -n default

# Or using dockerconfigjson type:
# apiVersion: v1
# kind: Secret
# metadata:
#   name: job-agent-registry
# type: kubernetes.io/dockerconfigjson
# data:
#   .dockerconfigjson: BASE64_ENCODED_CONFIG_JSON

---
# SSH Secret (if needed for Git operations)
apiVersion: v1
kind: Secret
metadata:
  name: job-agent-ssh
  namespace: default
  labels:
    app: job-agent

type: Opaque

data:
  ssh-privatekey: |
    LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQo=
  known-hosts: |
    Z2l0aHViLmNvbSBzc2gtcnNhIEFBQUEzRHpmNXRTclVN...
